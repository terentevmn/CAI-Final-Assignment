# CAI-Final-Assignment
This project is based on a CycleGAN model using pix2pix to generate facades from drawings. This repository provides the drawing tool and the automatic conversion to said generated facades. 

## Get started:
In order to get started, clone this repository by:
```bash
https://github.com/terentevmn/CAI-Final-Assignment.git
```
This repository contains the trained model, random input pictures, a drawing storage (for your creations :D), and the program itself. 
To install the necessary modules, run:
```bash
pip install -r requirements.txt
```
The model uses a checkpoint to load in if that is found in /model/training_checkpoints/. This is not included in this GitHub, since the file is 650+MB. It is however included in the ZIP of the submission.

## Notebook
To find the notebook in order to see how we trained the model and possibly for even more training, look into /model/. In here, you find `CAI_Final_Assignment_pix2pix.ipynb`, which contains the code for training the model. `model.py` contains just the model and a possible checkpoint that can be loaded in, and is used by the painting program once `paint.py` has started up. 

## Usage
Once set, you are ready to draw!
Open `paint.py` and create your own facade. This facade consists of 12 colours, each indicating a different section of the facade. The drawing process consists of placing many rectangles in these different colours. Whilst drawing, you will notice that the model is automatically updating. It will show you what you your transformed drawing. 

There are a couple of tools to make use of:
- Undo: the undo button removes your last action. This can be your last generated rectangle or your last random image
- Redo: the redo button undo's the undo. This can be done as long as you have not created any new rectangles or random images.
- Save: the save button saves your current state of your drawing. This consists of 3 files: your drawing as `jpg`, a building tool to import your image back in `.cache.txt` and the image generated by the model in `.out.jpg`. 
- Import: the import button lets you import some previous work. This is done by reading the `.cache.txt` file of your work. This allows for further edits and undo'ing or adding to what you have previously worked on. An image alone is not possible to import.
- Clear: the clear button clears your canvas and all history to it. 
- Random: imports a random drawn facade from the dataset. This can be used as basis for your drawing, for example.

Furthermore, there is a button in the bottom left corner of the output. Clicking this reveals an overlay of your drawing on the output, so that you can see what part of your drawing is responsible for what structure in the output. This is shown via the colours used in the canvas as well as telling you what that colour means by hovering over it with your mouse.  Click the button once more to turn it back off again.

## Contributors
- Lex Janssens, s2989344, Leiden University
- Maksim Terentev, s2565137, Leiden University 


